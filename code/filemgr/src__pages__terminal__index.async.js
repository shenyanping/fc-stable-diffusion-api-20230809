"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[491],{68996:function(A,g,e){e.d(g,{r:function(){return R}});var b=e(97857),j=e.n(b),v=e(86074);function R(f){var l=f.disabled,C=f.children,y=f.message;return(0,v.jsxs)("div",{style:j()({position:"relative"},l?{cursor:"not-allowed",display:"block",maxHeight:"100vh",overflow:"hidden"}:{}),children:[l&&(0,v.jsx)("div",{style:{position:"absolute",fontWeight:"bold",zIndex:1,transform:"translate(0, -50%)",top:"50%",left:0,right:0,textAlign:"center"},children:y||"\u60A8\u672A\u6302\u8F7D NAS\uFF0C\u65E0\u6CD5\u5F00\u542F\u6587\u4EF6\u7BA1\u7406\u529F\u80FD\u3002"}),(0,v.jsx)("div",{style:l?{pointerEvents:"none",filter:"opacity(0.5) grayscale(1)"}:{},children:C})]})}},78364:function(A,g,e){e.r(g),e.d(g,{default:function(){return F}});var b=e(15009),j=e.n(b),v=e(99289),R=e.n(v),f=e(77348),l=e(62435),C=e(88830),y={"xterm-wrapper":"xterm-wrapper___flXbs"},D=e(12617),$=e(83204);function S(){var a=l.useMemo(function(){return new D.FitAddon},[]);return $.Z("resize",function(){try{a==null||a.fit()}catch(o){console.error(o)}}),a}var m=e(66898),P=e(42075),T=e(71577),Q=e(89629),W=e(68996),d=e(86074),M=new TextEncoder;function I(){var a,o=l.useRef(null),i=l.useCallback(function(t){var n,r=(n=o.current)===null||n===void 0?void 0:n.terminal;r&&r.write(t)},[o]),p=S(),O=f.Z("".concat(location.protocol.replace("http","ws"),"//").concat(location.host,"/api/terminal"),{onOpen:function(){i(`\r
`),i(`\x1B[1;31m\u8BE5\u9875\u9762\u53EF\u80FD\u4F1A\u5BFC\u81F4\u60A8\u7684\u5E94\u7528\u6545\u969C\u3001NAS \u6587\u4EF6\u635F\u574F\uFF0C\u8BF7\u786E\u4FDD\u60A8\u5DF2\u77E5\u6653\u81EA\u5DF1\u547D\u4EE4\u7684\u540E\u679C\uFF0C\u9020\u6210\u7684\u635F\u5931\u9700\u8981\u60A8\u81EA\u884C\u627F\u62C5\x1B[0m\r
`),i(`\r
`),i(`\x1B[1;33m\u8BE5\u9875\u9762\u4F1A\u4FDD\u6301\u6301\u7EED\u8FDE\u63A5\uFF0C\u8FD9\u4F1A\u5BFC\u81F4\u6301\u7EED\u8BA1\u8D39\uFF0C\u8BF7\u52FF\u957F\u671F\u505C\u7559\u5728\u8BE5\u9875\u9762\x1B[0m \r
`),i(`\r
`),i(`\r
`)},onClose:function(){},onMessage:function(){var t=R()(j()().mark(function r(c){var h;return j()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,c.data.text();case 2:h=x.sent,(h[0]===""||h[0]==="")&&i(h.slice(1));case 4:case"end":return x.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}(),onError:function(n,r){console.error(n,r)},reconnectLimit:0}),E=O.sendMessage,L=O.connect,u=O.readyState,s=l.useCallback(function(t){u===m.kQ.Open&&(E==null||E(t))},[E,u]);return l.useEffect(function(){var t,n,r,c;p.fit(),s==null||s(M.encode("\0".concat(o==null||(t=o.current)===null||t===void 0||(n=t.terminal)===null||n===void 0?void 0:n.cols,",").concat(o==null||(r=o.current)===null||r===void 0||(c=r.terminal)===null||c===void 0?void 0:c.rows)))},[(a=o.current)===null||a===void 0?void 0:a.terminal,p,s]),(0,d.jsx)("div",{className:"full-width",children:(0,d.jsx)(W.r,{disabled:u!==m.kQ.Open,message:(0,d.jsxs)(P.Z,{direction:"vertical",children:[(0,d.jsx)("span",{style:{color:"white"},children:u===m.kQ.Closed?"\u94FE\u63A5\u5DF2\u5173\u95ED":u===m.kQ.Closing?"\u6B63\u5728\u5173\u95ED\u8FDE\u63A5":u===m.kQ.Connecting?"\u8FDE\u63A5\u4E2D":""}),(0,d.jsx)(T.ZP,{onClick:L,children:"\u91CD\u65B0\u8FDE\u63A5"})]}),children:(0,d.jsx)(C.O,{ref:o,className:y["xterm-wrapper"],addons:[p],onResize:function(n){var r=n.cols,c=n.rows;p.fit(),s==null||s(M.encode("\0".concat(r,",").concat(c)))},onData:function(n){s==null||s(M.encode("".concat(n)))}})})})}function F(){return(0,d.jsx)(I,{})}}}]);
